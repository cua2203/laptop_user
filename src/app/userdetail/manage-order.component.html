<app-header></app-header>


<div class="container">
    <div style="display: flex; padding: 20px;">
        <p>Trang chủ / </p>  <p> Lịch sử mua hàng</p>
    </div>

    <div style="width: 100%; min-height: 500px;border: 1px solid #ddd;display: flex; position: relative;">
        <div style="width: 30%;min-height: 500px;padding: 10px;">
            <div style="width: 100%;height:40px; border-bottom: 1px solid #ddd;align-content: center;">
                Thông tin khách hàng
            </div>

            <div style="width: 100%; min-height: 200px;padding: 10px">
                <ul>
                    <li style="display: flex;"> <p style="min-width: 100px">Họ tên :</p>  {{customer.fullname}}</li>
                    <br>
                    <li style="display: flex;"> <p style="min-width: 100px"> Địa chỉ:</p> {{customer.address}} </li>
                    <br>
                    <li style="display: flex;"> <p style="min-width: 100px">Số điện thoại: </p> {{customer.phone}}</li>
                    <br>
                    <li style="display: flex;"><p style="min-width: 100px"> Email:</p> {{customer.email}} </li>
              
                </ul>

            </div>
            <div style="width: 100%;min-height: 100px;padding: 10px;box-sizing: border-box;">

                <button (click)="logOut()" style="width: 100%;height: 30px;">Đăng xuất</button>

            </div>

        </div>
        <div style="width: 70%;min-height: 500px;border-left: 1px solid #ddd;padding: 10px;">

            <div style="width: 100%;height:40px; border-bottom: 1px solid #ddd;align-content: center;">
                Lịch sử mua hàng
            </div>

            <div style="width: 100%;min-height: 500px;padding: 10px;">
                <table>
                    <thead>
                        <tr>
                            <th style="width: 20%;">Mã đơn hàng</th>
                            <th>Ngày đặt</th>
                            <th>Trạng thái</th>
                            <th style="width: 15%;"> Thao tác</th>
                          </tr>

                    </thead>
                    <tbody>
                        <tr *ngFor="let item of orders ">
                            <td>{{item.order_id}}</td>
                            <td>{{item.order_date|date:'yyyy-MM-dd' }}</td>
                            <td>{{item.status}}</td>
                            <td> <button (click)="toggleDiv(item.order_id)"><i class="bi bi-info-circle"></i></button> </td>
                        </tr>

                    </tbody>
               
              
                    
                  </table>
            </div>

        </div>

        
        <div #detailDiv *ngIf="isDivVisible" style="position: absolute; top:50%;box-sizing: border-box; left: 50%;width: 80%;min-height:400px; border: 1px solid #ddd;background-color: white; z-index: 1111;  -ms-transform: translate(-50%, -50%);transform: translate(-50%, -50%);padding: 20px;" >
            <div style="width: 100%;height: 40px;border-bottom: 1px solid #ddd;display: flex;">
                <div style="width: 50%;height: 100%;">  Chi tiết đơn hàng</div>

                <div style="width: 50%;height: 100%; display: flex; justify-content: end;align-items: center;">  <button (click)="close()">Đóng</button> </div>
            </div>

            <div style="width: 100%;min-height: 300px; box-sizing: border-box;">
                <table>
                    <thead>
                        <tr>
                            <th style="width: 20%;">Tên máy</th>
                            <th>Ảnh</th>
                            <th>Cpu</th>
                            <th style="width: 15%;"> Ram</th>
                            <th>Storage</th>
                            <th>quantity</th>
                            <th>Price</th>
                          </tr>

                    </thead>
                    <tbody>
                        <tr *ngFor="let item of orderDetail ">
                            <td>{{item.laptop_name}}</td>
                            <td><img style="width: 50px;" src="{{item.image}}" alt=""></td>
                            <td>{{item.cpu}}</td>
                            <td>{{item.ram}}</td>
                            <td>{{item.storage}}</td>
                            <td>{{item.quantity}}</td>
                            <td>{{item.price}}</td>
                        </tr>

                    </tbody>
                </table>
                <div style="width: 96%;position: absolute; bottom: 0;height: 40px; border-top:1px solid #ddd;box-sizing: border-box;display: flex; justify-content: end;">
                    <button (click)="cancel()" [disabled]="status!=='Processing' " style="cursor: pointer;;width: 60px;outline: none;background-color: red;border: none;color: white; border-radius: 3px;">Hủy</button>
                </div>

            </div>

        </div>
        
    </div>
</div>



<app-footer></app-footer>
